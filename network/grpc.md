{% include breadcrumbs.html %}

# gRPC

## 목차

- [gRPC란?](#grpc란)
- [왜 gRPC를 사용하는가?](#왜-grpc를-사용하는가)

---

## gRPC란?

gRPC는 구글에서 만들어 2015년에 오픈 소스로 공개한 RPC(Remote Procedure Calls) 프레임워크다.

gRPC는 HTTP/2 프로토콜을 사용하며 인터페이스 정의 언어(IDL)로 Protocol Buffers를 사용한다.

주로 마이크로 서비스 아키텍처에서 서비스 간 통신에 점점 gRPC를 쓰고 있는 추세이다.

---

## 왜 gRPC를 사용하는가?

서비스 간 통신에 널리 쓰이고 있는 또 다른 기술은 REST인데, REST와 비교하여 gRPC가 가지는 장점에 대해 정리해보겠다.

### 성능

사람이 읽을 수 있는 텍스트 데이터(JSON 같은)를 전달하는 REST 방식과는 달리 gRPC는 프로토콜 버퍼로 직렬화된 바이너리를 전달하기 때문에 속도와 대역폭에서 이점이 있다.

### 엄격한 API 정의

gRPC는 프로토콜 버퍼라는 IDL를 사용하여 주고 받는 데이터의 형식과 타입을 미리 정의하고, 제한한다. 따라서 데이터 형식이나 타입이 달라 발생하는 오류 가능성을 줄여준다. REST에서는 자체적으로 이런 기능이 없기 때문에 Swagger 같은 툴을 따로 사용해야 한다.

### 더 넓은 표현

REST를 사용하다 보면 서비스에서 필요한 동작을 RESTful 하게 나타내기 힘든 경우가 자주 있다.
예를 들어 한 번에 두 개 이상의 모델 데이터를 가져와야 한다면 URL을 어떻게 정의해야 할까? 또 `POST /orders` 호출 시 `주문` 모델 생성뿐만 아니라 `orderItems(주문 항목)` 모델들을 생성하고 `users` 모델을 업데이트해야 한다면 과연 저 엔드 포인트가 적절한 것일까?

이런 케이스들을 처리하다 보면 결국 RESTful 하지 않게 되거나 일관성 없는 API가 돼가는 것을 봐왔다.
하지만 gRPC는 이런 규약이 없어 자유롭게 설계가 가능하다.

### 양방향 스트리밍

gRPC는 HTTP/2 기반의 기술이기 때문에 단일 요청-응답의 통신 말고도 다수의 요청을 보내는 클라이언트 스트리밍, 다수의 응답을 보내는 서버 스트리밍, 다수의 요청과 응답을 보내는 양방향 스트리밍이 지원된다.
